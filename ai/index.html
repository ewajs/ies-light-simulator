<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <style>
        @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css");
        .row img,
        .row model-viewer {
            height: 500px;
            max-width: 100%;
            object-fit: contain;
        }

        .row model-viewer {
            width: 100%;
        }

        model-viewer > button.ar-button {
            display: none;
        }

        #qr-code {
            display: flex;
            justify-content: center;
        }
    </style>
    <div class="container-fluid">
        <div class="row">
            <h1>Imagen a Modelo 3D con AI</h1>
        </div>
        <div class="row"> 
            <div class="col-lg-6 d-flex justify-content-center align-items-center"><img src="./assets/1629292728.png" /></div>
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <model-viewer id="l1" shadow-intensity="1" camera-controls touch-action="pan-y" src="./assets/1629292728.glb" autoplay ar ar-modes="scene-viewer quick-look">
                    <button slot="ar-button" class="ar-button"></button>
                </model-viewer>
            </div>
        </div>
        <div class="row"><div class="col d-flex justify-content-center"><button class="btn btn-primary ar-button" data-for="l1"><i class="bi bi-boxes"></i> Ver en RA</button></div></div>
        <div class="row">
            <div class="col-lg-6 d-flex justify-content-center align-items-center"><img src="./assets/1629293035.png" /></div>
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <model-viewer id="l2" shadow-intensity="1" camera-controls touch-action="pan-y" src="./assets/1629293035.glb" autoplay ar ar-modes="scene-viewer quick-look">
                    <button slot="ar-button" class="ar-button"></button>
                </model-viewer>
            </div>
        </div>
        <div class="row"><div class="col d-flex justify-content-center"><button class="btn btn-primary ar-button" data-for="l2"><i class="bi bi-boxes"></i> Ver en RA</button></div></div>
        <div class="row">
            <div class="col-lg-6 d-flex justify-content-center align-items-center"><img src="./assets/1629299352.png" /></div>
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <model-viewer id="l3" shadow-intensity="1" camera-controls touch-action="pan-y" src="./assets/1629299352.glb" autoplay ar ar-modes="scene-viewer quick-look">
                    <button slot="ar-button" class="ar-button"></button>
                </model-viewer>
            </div>
        </div>
        <div class="row"><div class="col d-flex justify-content-center"><button class="btn btn-primary ar-button" data-for="l3"><i class="bi bi-boxes"></i> Ver en RA</button></div></div>
        <div class="row">
            <div class="col-lg-6 d-flex justify-content-center align-items-center"><img src="./assets/1629291778.png" /></div>
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <model-viewer id="l4" shadow-intensity="1" camera-controls touch-action="pan-y" src="./assets/1629291778.glb" autoplay ar ar-modes="scene-viewer quick-look">
                    <button slot="ar-button" class="ar-button"></button>
                </model-viewer>
            </div>
        </div>
        <div class="row"><div class="col d-flex justify-content-center"><button class="btn btn-primary ar-button" data-for="l6"><i class="bi bi-boxes"></i> Ver en RA</button></div></div>
        <div class="row">
            <div class="col-lg-6 d-flex justify-content-center align-items-center"><img src="./assets/1629301504.png" /></div>
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <model-viewer id="l6" shadow-intensity="1" camera-controls touch-action="pan-y" src="./assets/1629301504.glb" autoplay ar ar-modes="scene-viewer quick-look">
                    <button slot="ar-button" class="ar-button"></button>
                </model-viewer>
            </div>
        </div>
        <div class="row"><div class="col d-flex justify-content-center"><button class="btn btn-primary ar-button" data-for="l4"><i class="bi bi-boxes"></i> Ver en RA</button></div></div>
        <div class="row">
            <div class="col-lg-6 d-flex justify-content-center align-items-center"><img src="./assets/sofa.jpg" /></div>
            <div class="col-lg-6 d-flex justify-content-center align-items-center">
                <model-viewer id="l5" shadow-intensity="1" camera-controls touch-action="pan-y" src="./assets/sofa.glb" autoplay ar ar-modes="scene-viewer quick-look">
                    <button slot="ar-button" class="ar-button"></button>
                </model-viewer>
            </div>
        </div>
        <div class="row mb-5"><div class="col d-flex justify-content-center"><button class="btn btn-primary ar-button" data-for="l5"><i class="bi bi-boxes"></i> Ver en RA</button></div></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>
    <script>
        function launchModal(title, html, container) {
            Swal.fire({
                title,
                html,
                confirmButtonText: 'OK!',
            })
        }

        document.querySelectorAll('.btn-primary.ar-button').forEach(b => b.addEventListener('click', (e) => {
            const modelViewer = document.getElementById(b.dataset.for);
            if(modelViewer.canActivateAR) {
                modelViewer.querySelector('.ar-button').click();
                return;
            }
            // If user cannot use AR here, we prompt them to view in mobile device
            launchModal(
                'Abr√≠lo en tu celular para verlo en Realidad Aumentada',
                '<div id="qr-code"></div>',
            );

            new QRCode(document.getElementById('qr-code'), {
                text: window.location.href,
                width: 256,
                height: 256,
                colorDark : '#202327',
                colorLight : '#ffffff',
                correctLevel : QRCode.CorrectLevel.H
            });
        }));
    </script>
</body>
</html>